- è·¯ç”±è§„èŒƒ
- æœåŠ¡æ‹†åˆ†è§„èŒƒ
- æ¥å£äºæœåŠ¡ä¸­çš„é”™è¯¯å¤„ç†
- å…¥å£æ–‡ä»¶å†…å®¹è§„èŒƒ

## è·¯ç”±è§„èŒƒ
### å°½å¯èƒ½ä¸è¦åˆ¶ä½œâ€œæ§åˆ¶å™¨â€
å¦‚æœå¯èƒ½ï¼Œæ‚¨ä¸åº”è¯¥åˆ›å»ºâ€œç±»ä¼¼ Ruby on Rails çš„æ§åˆ¶å™¨â€ã€‚
```ts
// ğŸ™
// A RoR-like Controller
const booksList = (c: Context) => {
  return c.json('list books')
}

app.get('/books', booksList)
```

è¯¥é—®é¢˜ä¸ç±»å‹æœ‰å…³ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœä¸ç¼–å†™å¤æ‚çš„æ³›å‹ï¼Œå°±æ— æ³•åœ¨ Controller ä¸­æ¨æ–­å‡ºè·¯å¾„å‚æ•°ã€‚
```ts
// ğŸ™
// A RoR-like Controller
const bookPermalink = (c: Context) => {
  const id = c.req.param('id') // Can't infer the path param
  return c.json(`get ${id}`)
}
```

å› æ­¤ï¼Œæ‚¨ä¸éœ€è¦åˆ›å»ºç±»ä¼¼ RoR çš„æ§åˆ¶å™¨ï¼Œè€Œåº”è¯¥ç›´æ¥åœ¨è·¯å¾„å®šä¹‰ä¹‹åç¼–å†™å¤„ç†ç¨‹åºã€‚
```ts
// ğŸ˜ƒ
app.get('/books/:id', (c) => {
  const id = c.req.param('id') // Can infer the path param
  return c.json(`get ${id}`)
})
```
æ˜ç™½äº†ï¼Œä»¥å‰è‡ªå·±æ˜¯åˆ›å»ºäº†ç±»ä¼¼ RoR çš„æ§åˆ¶å™¨çš„ï¼Œç°åœ¨ç›´æ¥åœ¨è·¯å¾„å®šä¹‰ä¹‹åç¼–å†™å¤„ç†ç¨‹åºå§

### `hono/factory` ä¸­çš„ `factory.createHandlers()` 
å¦‚æœæ‚¨ä»ç„¶æƒ³åˆ›å»ºç±»ä¼¼ RoR çš„æ§åˆ¶å™¨ï¼Œè¯·ä½¿ç”¨ `factory.createHandlers()` åœ¨ [`hono/factory`](https://hono.dev/helpers/factory)ã€‚ å¦‚æœæ‚¨ä½¿ç”¨å®ƒï¼Œç±»å‹æ¨æ–­å°†æ­£å¸¸å·¥ä½œã€‚
```ts
import { createFactory } from 'hono/factory'
import { logger } from 'hono/logger'

// ...

// ğŸ˜ƒ
const factory = createFactory()

const middleware = factory.createMiddleware(async (c, next) => {
  c.set('foo', 'bar')
  await next()
})

const handlers = factory.createHandlers(logger(), middleware, (c) => {
  return c.json(c.var.foo)
})

app.get('/api', ...handlers)
```

### æ„å»ºæ›´å¤§çš„åº”ç”¨ç¨‹åº
ä½¿ç”¨ `app.route()` æ„å»ºæ›´å¤§çš„åº”ç”¨ç¨‹åºï¼Œè€Œæ— éœ€åˆ›å»ºâ€œç±»ä¼¼ Ruby on Rails çš„æ§åˆ¶å™¨â€ã€‚

å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºæœ‰ `/authors` å’Œ `/books` ç«¯ç‚¹å¹¶ä¸”æ‚¨å¸Œæœ›ä»ä¸­åˆ†ç¦»æ–‡ä»¶ `index.ts`ï¼Œ åˆ›é€  `authors.ts` å’Œ `books.ts`.
```ts
// authors.ts
import { Hono } from 'hono'

const app = new Hono()

app.get('/', (c) => c.json('list authors'))
app.post('/', (c) => c.json('create an author', 201))
app.get('/:id', (c) => c.json(`get ${c.req.param('id')}`))

export default app
```

```ts
// books.ts
import { Hono } from 'hono'

const app = new Hono()

app.get('/', (c) => c.json('list books'))
app.post('/', (c) => c.json('create a book', 201))
app.get('/:id', (c) => c.json(`get ${c.req.param('id')}`))

export default app
```

ç„¶åï¼Œå¯¼å…¥å®ƒä»¬å¹¶å®‰è£…åœ¨è·¯å¾„ä¸Š `/authors` å’Œ `/books` å’Œ `app.route()`.
```ts
// index.ts
import { Hono } from 'hono'
import authors from './authors'
import books from './books'

const app = new Hono()

app.route('/authors', authors)
app.route('/books', books)

export default app
```


## æœåŠ¡æ‹†åˆ†è§„èŒƒ
ã€TODOã€‘
